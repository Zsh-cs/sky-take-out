2026-01-17 22:19:38.227 [main] INFO  com.sky.SkyApplication - Starting SkyApplication using Java 17.0.12 on Zsh with PID 23516 (D:\ZSH-ComputerScience\CangQiong\sky-take-out\sky-take-out\sky-server\target\classes started by asus in D:\ZSH-ComputerScience\CangQiong\sky-take-out\sky-take-out)
2026-01-17 22:19:38.230 [main] INFO  com.sky.SkyApplication - The following 1 profile is active: "dev"
2026-01-17 22:19:39.309 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2026-01-17 22:19:39.313 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2026-01-17 22:19:39.352 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 23 ms. Found 0 Redis repository interfaces.
2026-01-17 22:19:40.279 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2026-01-17 22:19:40.279 [main] INFO  org.apache.catalina.core.AprLifecycleListener - Loaded Apache Tomcat Native library [1.3.1] using APR version [1.7.4].
2026-01-17 22:19:40.280 [main] INFO  org.apache.catalina.core.AprLifecycleListener - APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true], UDS [true].
2026-01-17 22:19:40.280 [main] INFO  org.apache.catalina.core.AprLifecycleListener - APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2026-01-17 22:19:40.294 [main] INFO  org.apache.catalina.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.0.14 4 Jun 2024]
2026-01-17 22:19:40.304 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2026-01-17 22:19:40.304 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.65]
2026-01-17 22:19:40.449 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2026-01-17 22:19:40.449 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2154 ms
2026-01-17 22:19:40.546 [main] INFO  c.a.d.s.b.a.DruidDataSourceAutoConfigure - Init DruidDataSource
2026-01-17 22:19:40.718 [main] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} inited
2026-01-17 22:19:40.783 [main] INFO  com.sky.config.MyBatisPlusConfig - 开始注册MyBatis-Plus的拦截器...
2026-01-17 22:19:40.975 [main] WARN  c.b.mybatisplus.core.injector.methods.Update - [com.sky.mapper.CategoryMapper.update] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Update]
2026-01-17 22:19:41.033 [main] WARN  c.b.mybatisplus.core.injector.methods.Update - [com.sky.mapper.DishMapper.update] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Update]
2026-01-17 22:19:41.054 [main] WARN  c.b.mybatisplus.core.injector.methods.Update - [com.sky.mapper.EmployeeMapper.update] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Update]
2026-01-17 22:19:41.105 [main] WARN  c.b.mybatisplus.core.injector.methods.Update - [com.sky.mapper.SetmealMapper.update] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Update]
2026-01-17 22:19:41.275 [main] INFO  com.sky.config.AliyunOssConfig - 开始创建阿里云OSS文件上传工具对象...
2026-01-17 22:19:41.491 [main] INFO  com.sky.config.RedisConfig - 开始创建Redis模板对象...
2026-01-17 22:19:41.879 [main] INFO  com.sky.config.WebMvcConfig - 开始注册自定义拦截器...
2026-01-17 22:19:41.979 [main] INFO  com.sky.config.WebMvcConfig - 准备生成管理端接口文档...
2026-01-17 22:19:41.983 [main] INFO  com.sky.config.WebMvcConfig - 准备生成用户端接口文档...
2026-01-17 22:19:42.017 [main] INFO  com.sky.config.WebMvcConfig - 扩展消息转换器...
2026-01-17 22:19:42.024 [main] INFO  com.sky.config.WebMvcConfig - 开始设置静态资源映射...
2026-01-17 22:19:42.488 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2026-01-17 22:19:42.903 [http-nio-8080-exec-1] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2026-01-17 22:19:42.903 [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2026-01-17 22:19:42.905 [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2026-01-17 22:19:42.973 [http-nio-8080-exec-1] INFO  com.sky.controller.admin.EmployeeController - 员工登录：EmployeeLoginDTO(username=admin, password=123456)
2026-01-17 22:19:42.988 [main] INFO  com.sky.SkyApplication - Started SkyApplication in 5.385 seconds (JVM running for 6.37)
2026-01-17 22:19:42.990 [main] INFO  com.sky.SkyApplication - server starts ...
2026-01-17 22:19:43.170 [http-nio-8080-exec-1] DEBUG com.sky.mapper.EmployeeMapper.selectList - ==>  Preparing: SELECT id,username,name,password,phone,sex,id_number,status,create_time,create_user,update_time,update_user FROM employee WHERE (username = ?)
2026-01-17 22:19:43.188 [http-nio-8080-exec-1] DEBUG com.sky.mapper.EmployeeMapper.selectList - ==> Parameters: admin(String)
2026-01-17 22:19:43.218 [http-nio-8080-exec-1] DEBUG com.sky.mapper.EmployeeMapper.selectList - <==      Total: 1
2026-01-17 22:19:43.653 [http-nio-8080-exec-7] INFO  com.sky.websocket.WebSocketServer - 客户端6sad62q9cw与服务端建立连接

2026-01-17 22:19:43.666 [http-nio-8080-exec-3] INFO  com.sky.interceptor.JwtTokenInterceptor - jwt校验: eyJhbGciOiJIUzI1NiJ9.eyJlbXBJZCI6MSwiZXhwIjoxNzY5Mzc5NTgzfQ.DdB52ai7spD1x43SrxkJK2HrY7IRTIzgbAUfinhEfOE
2026-01-17 22:19:43.666 [http-nio-8080-exec-4] INFO  com.sky.interceptor.JwtTokenInterceptor - jwt校验: eyJhbGciOiJIUzI1NiJ9.eyJlbXBJZCI6MSwiZXhwIjoxNzY5Mzc5NTgzfQ.DdB52ai7spD1x43SrxkJK2HrY7IRTIzgbAUfinhEfOE
2026-01-17 22:19:43.667 [http-nio-8080-exec-5] INFO  com.sky.interceptor.JwtTokenInterceptor - jwt校验: eyJhbGciOiJIUzI1NiJ9.eyJlbXBJZCI6MSwiZXhwIjoxNzY5Mzc5NTgzfQ.DdB52ai7spD1x43SrxkJK2HrY7IRTIzgbAUfinhEfOE
2026-01-17 22:19:43.681 [http-nio-8080-exec-3] INFO  com.sky.interceptor.JwtTokenAdminInterceptor - id=1的员工登入苍穹外卖管理端

2026-01-17 22:19:43.681 [http-nio-8080-exec-5] INFO  com.sky.interceptor.JwtTokenAdminInterceptor - id=1的员工登入苍穹外卖管理端

2026-01-17 22:19:43.681 [http-nio-8080-exec-4] INFO  com.sky.interceptor.JwtTokenAdminInterceptor - id=1的员工登入苍穹外卖管理端

2026-01-17 22:19:43.682 [http-nio-8080-exec-6] INFO  com.sky.interceptor.JwtTokenInterceptor - jwt校验: eyJhbGciOiJIUzI1NiJ9.eyJlbXBJZCI6MSwiZXhwIjoxNzY5Mzc5NTgzfQ.DdB52ai7spD1x43SrxkJK2HrY7IRTIzgbAUfinhEfOE
2026-01-17 22:19:43.683 [http-nio-8080-exec-6] INFO  com.sky.interceptor.JwtTokenAdminInterceptor - id=1的员工登入苍穹外卖管理端

2026-01-17 22:19:43.689 [http-nio-8080-exec-3] INFO  com.sky.controller.admin.OrderController - 订单分页查询，参数为：OrderPageQueryDTO(page=1, pageSize=10, number=null, phone=null, status=2, beginTime=null, endTime=null, userId=null)

2026-01-17 22:19:43.690 [http-nio-8080-exec-6] DEBUG com.sky.mapper.OrderMapper.selectCount - ==>  Preparing: SELECT COUNT( * ) AS total FROM orders WHERE (status = ?)
2026-01-17 22:19:43.691 [http-nio-8080-exec-6] DEBUG com.sky.mapper.OrderMapper.selectCount - ==> Parameters: 2(Integer)
2026-01-17 22:19:43.717 [http-nio-8080-exec-2] INFO  com.sky.interceptor.JwtTokenInterceptor - jwt校验: eyJhbGciOiJIUzI1NiJ9.eyJlbXBJZCI6MSwiZXhwIjoxNzY5Mzc5NTgzfQ.DdB52ai7spD1x43SrxkJK2HrY7IRTIzgbAUfinhEfOE
2026-01-17 22:19:43.717 [http-nio-8080-exec-9] INFO  com.sky.interceptor.JwtTokenInterceptor - jwt校验: eyJhbGciOiJIUzI1NiJ9.eyJlbXBJZCI6MSwiZXhwIjoxNzY5Mzc5NTgzfQ.DdB52ai7spD1x43SrxkJK2HrY7IRTIzgbAUfinhEfOE
2026-01-17 22:19:43.718 [http-nio-8080-exec-6] DEBUG com.sky.mapper.OrderMapper.selectCount - <==      Total: 1
2026-01-17 22:19:43.718 [http-nio-8080-exec-4] DEBUG com.sky.mapper.OrderMapper.selectObjs - ==>  Preparing: SELECT sum(amount) as turnover FROM orders WHERE (status = ? AND delivery_time BETWEEN ? AND ?)
2026-01-17 22:19:43.718 [http-nio-8080-exec-2] INFO  com.sky.interceptor.JwtTokenAdminInterceptor - id=1的员工登入苍穹外卖管理端

2026-01-17 22:19:43.719 [http-nio-8080-exec-4] DEBUG com.sky.mapper.OrderMapper.selectObjs - ==> Parameters: 5(Integer), 2026-01-17T00:00(LocalDateTime), 2026-01-17T23:59:59.999999999(LocalDateTime)
2026-01-17 22:19:43.719 [http-nio-8080-exec-9] INFO  com.sky.interceptor.JwtTokenAdminInterceptor - id=1的员工登入苍穹外卖管理端

2026-01-17 22:19:43.720 [http-nio-8080-exec-6] DEBUG com.sky.mapper.OrderMapper.selectCount - ==>  Preparing: SELECT COUNT( * ) AS total FROM orders WHERE (status = ?)
2026-01-17 22:19:43.720 [http-nio-8080-exec-6] DEBUG com.sky.mapper.OrderMapper.selectCount - ==> Parameters: 3(Integer)
2026-01-17 22:19:43.722 [http-nio-8080-exec-6] DEBUG com.sky.mapper.OrderMapper.selectCount - <==      Total: 1
2026-01-17 22:19:43.723 [http-nio-8080-exec-6] DEBUG com.sky.mapper.OrderMapper.selectCount - ==>  Preparing: SELECT COUNT( * ) AS total FROM orders WHERE (status = ?)
2026-01-17 22:19:43.723 [http-nio-8080-exec-6] DEBUG com.sky.mapper.OrderMapper.selectCount - ==> Parameters: 5(Integer)
2026-01-17 22:19:43.724 [http-nio-8080-exec-6] DEBUG com.sky.mapper.OrderMapper.selectCount - <==      Total: 1
2026-01-17 22:19:43.725 [http-nio-8080-exec-4] DEBUG com.sky.mapper.OrderMapper.selectObjs - <==      Total: 1
2026-01-17 22:19:43.725 [http-nio-8080-exec-9] DEBUG com.sky.mapper.DishMapper.selectCount - ==>  Preparing: SELECT COUNT( * ) AS total FROM dish WHERE deleted=0 AND (status = ?)
2026-01-17 22:19:43.726 [http-nio-8080-exec-6] DEBUG com.sky.mapper.OrderMapper.selectCount - ==>  Preparing: SELECT COUNT( * ) AS total FROM orders WHERE (status = ?)
2026-01-17 22:19:43.726 [http-nio-8080-exec-6] DEBUG com.sky.mapper.OrderMapper.selectCount - ==> Parameters: 6(Integer)
2026-01-17 22:19:43.726 [http-nio-8080-exec-9] DEBUG com.sky.mapper.DishMapper.selectCount - ==> Parameters: 1(Integer)
2026-01-17 22:19:43.727 [http-nio-8080-exec-6] DEBUG com.sky.mapper.OrderMapper.selectCount - <==      Total: 1
2026-01-17 22:19:43.728 [http-nio-8080-exec-2] DEBUG com.sky.mapper.SetmealMapper.selectCount - ==>  Preparing: SELECT COUNT( * ) AS total FROM setmeal WHERE deleted=0 AND (status = ?)
2026-01-17 22:19:43.728 [http-nio-8080-exec-9] DEBUG com.sky.mapper.DishMapper.selectCount - <==      Total: 1
2026-01-17 22:19:43.728 [http-nio-8080-exec-6] DEBUG com.sky.mapper.OrderMapper.selectCount - ==>  Preparing: SELECT COUNT( * ) AS total FROM orders
2026-01-17 22:19:43.728 [http-nio-8080-exec-2] DEBUG com.sky.mapper.SetmealMapper.selectCount - ==> Parameters: 1(Integer)
2026-01-17 22:19:43.728 [http-nio-8080-exec-6] DEBUG com.sky.mapper.OrderMapper.selectCount - ==> Parameters: 
2026-01-17 22:19:43.730 [http-nio-8080-exec-2] DEBUG com.sky.mapper.SetmealMapper.selectCount - <==      Total: 1
2026-01-17 22:19:43.730 [http-nio-8080-exec-4] DEBUG com.sky.mapper.OrderMapper.selectCount - ==>  Preparing: SELECT COUNT( * ) AS total FROM orders WHERE (status = ? AND order_time BETWEEN ? AND ?)
2026-01-17 22:19:43.730 [http-nio-8080-exec-9] DEBUG com.sky.mapper.DishMapper.selectCount - ==>  Preparing: SELECT COUNT( * ) AS total FROM dish WHERE deleted=0 AND (status = ?)
2026-01-17 22:19:43.730 [http-nio-8080-exec-4] DEBUG com.sky.mapper.OrderMapper.selectCount - ==> Parameters: 5(Integer), 2026-01-17T00:00(LocalDateTime), 2026-01-17T23:59:59.999999999(LocalDateTime)
2026-01-17 22:19:43.730 [http-nio-8080-exec-9] DEBUG com.sky.mapper.DishMapper.selectCount - ==> Parameters: 0(Integer)
2026-01-17 22:19:43.730 [http-nio-8080-exec-6] DEBUG com.sky.mapper.OrderMapper.selectCount - <==      Total: 1
2026-01-17 22:19:43.731 [http-nio-8080-exec-2] DEBUG com.sky.mapper.SetmealMapper.selectCount - ==>  Preparing: SELECT COUNT( * ) AS total FROM setmeal WHERE deleted=0 AND (status = ?)
2026-01-17 22:19:43.731 [http-nio-8080-exec-6] INFO  com.sky.controller.admin.WorkspaceController - 查询订单管理数据：OrderOverViewVO(waitingOrders=0, deliveredOrders=0, completedOrders=23, cancelledOrders=3, allOrders=26)
2026-01-17 22:19:43.731 [http-nio-8080-exec-2] DEBUG com.sky.mapper.SetmealMapper.selectCount - ==> Parameters: 0(Integer)
2026-01-17 22:19:43.732 [http-nio-8080-exec-9] DEBUG com.sky.mapper.DishMapper.selectCount - <==      Total: 1
2026-01-17 22:19:43.732 [http-nio-8080-exec-4] DEBUG com.sky.mapper.OrderMapper.selectCount - <==      Total: 1
2026-01-17 22:19:43.732 [http-nio-8080-exec-9] INFO  com.sky.controller.admin.WorkspaceController - 菜品总览：起售25，停售1
2026-01-17 22:19:43.732 [http-nio-8080-exec-2] DEBUG com.sky.mapper.SetmealMapper.selectCount - <==      Total: 1
2026-01-17 22:19:43.733 [http-nio-8080-exec-2] INFO  com.sky.controller.admin.WorkspaceController - 套餐总览：起售4，停售1
2026-01-17 22:19:43.733 [http-nio-8080-exec-4] DEBUG com.sky.mapper.OrderMapper.selectCount - ==>  Preparing: SELECT COUNT( * ) AS total FROM orders WHERE (order_time BETWEEN ? AND ?)
2026-01-17 22:19:43.734 [http-nio-8080-exec-4] DEBUG com.sky.mapper.OrderMapper.selectCount - ==> Parameters: 2026-01-17T00:00(LocalDateTime), 2026-01-17T23:59:59.999999999(LocalDateTime)
2026-01-17 22:19:43.735 [http-nio-8080-exec-4] DEBUG com.sky.mapper.OrderMapper.selectCount - <==      Total: 1
2026-01-17 22:19:43.737 [http-nio-8080-exec-4] DEBUG com.sky.mapper.UserMapper.selectCount - ==>  Preparing: SELECT COUNT( * ) AS total FROM user WHERE (create_time BETWEEN ? AND ?)
2026-01-17 22:19:43.737 [http-nio-8080-exec-4] DEBUG com.sky.mapper.UserMapper.selectCount - ==> Parameters: 2026-01-17T00:00(LocalDateTime), 2026-01-17T23:59:59.999999999(LocalDateTime)
2026-01-17 22:19:43.739 [http-nio-8080-exec-4] DEBUG com.sky.mapper.UserMapper.selectCount - <==      Total: 1
2026-01-17 22:19:43.740 [http-nio-8080-exec-4] INFO  com.sky.controller.admin.WorkspaceController - 查询今日运营数据：BusinessDataVO(turnover=296.0, validOrderCount=5, orderCompletionRate=0.8333333333333334, unitPrice=59.2, newUsers=0)
2026-01-17 22:19:43.759 [http-nio-8080-exec-3] DEBUG com.sky.mapper.OrderMapper.pageQuery_mpCount - ==>  Preparing: SELECT COUNT(*) AS total FROM orders WHERE status = ?
2026-01-17 22:19:43.760 [http-nio-8080-exec-3] DEBUG com.sky.mapper.OrderMapper.pageQuery_mpCount - ==> Parameters: 2(Integer)
2026-01-17 22:19:43.761 [http-nio-8080-exec-3] DEBUG com.sky.mapper.OrderMapper.pageQuery_mpCount - <==      Total: 1
2026-01-17 22:19:43.769 [http-nio-8080-exec-8] INFO  com.sky.interceptor.JwtTokenInterceptor - jwt校验: eyJhbGciOiJIUzI1NiJ9.eyJlbXBJZCI6MSwiZXhwIjoxNzY5Mzc5NTgzfQ.DdB52ai7spD1x43SrxkJK2HrY7IRTIzgbAUfinhEfOE
2026-01-17 22:19:43.770 [http-nio-8080-exec-8] INFO  com.sky.interceptor.JwtTokenAdminInterceptor - id=1的员工登入苍穹外卖管理端

2026-01-17 22:19:43.770 [http-nio-8080-exec-8] INFO  com.sky.controller.admin.OrderController - 统计各个状态的订单数量
2026-01-17 22:19:43.772 [http-nio-8080-exec-8] DEBUG com.sky.mapper.OrderMapper.selectCount - ==>  Preparing: SELECT COUNT( * ) AS total FROM orders WHERE (status = ?)
2026-01-17 22:19:43.772 [http-nio-8080-exec-8] DEBUG com.sky.mapper.OrderMapper.selectCount - ==> Parameters: 2(Integer)
2026-01-17 22:19:43.773 [http-nio-8080-exec-8] DEBUG com.sky.mapper.OrderMapper.selectCount - <==      Total: 1
2026-01-17 22:19:43.775 [http-nio-8080-exec-8] DEBUG com.sky.mapper.OrderMapper.selectCount - ==>  Preparing: SELECT COUNT( * ) AS total FROM orders WHERE (status = ?)
2026-01-17 22:19:43.775 [http-nio-8080-exec-8] DEBUG com.sky.mapper.OrderMapper.selectCount - ==> Parameters: 3(Integer)
2026-01-17 22:19:43.776 [http-nio-8080-exec-8] DEBUG com.sky.mapper.OrderMapper.selectCount - <==      Total: 1
2026-01-17 22:19:43.777 [http-nio-8080-exec-8] DEBUG com.sky.mapper.OrderMapper.selectCount - ==>  Preparing: SELECT COUNT( * ) AS total FROM orders WHERE (status = ?)
2026-01-17 22:19:43.777 [http-nio-8080-exec-8] DEBUG com.sky.mapper.OrderMapper.selectCount - ==> Parameters: 4(Integer)
2026-01-17 22:19:43.778 [http-nio-8080-exec-8] DEBUG com.sky.mapper.OrderMapper.selectCount - <==      Total: 1
2026-01-17 22:19:44.150 [http-nio-8080-exec-5] INFO  com.sky.controller.admin.ShopController - 管理端获取店铺营业状态为：营业中
2026-01-17 22:19:50.205 [http-nio-8080-exec-6] INFO  com.sky.interceptor.JwtTokenInterceptor - jwt校验: eyJhbGciOiJIUzI1NiJ9.eyJlbXBJZCI6MSwiZXhwIjoxNzY5Mzc5NTgzfQ.DdB52ai7spD1x43SrxkJK2HrY7IRTIzgbAUfinhEfOE
2026-01-17 22:19:50.205 [http-nio-8080-exec-10] INFO  com.sky.interceptor.JwtTokenInterceptor - jwt校验: eyJhbGciOiJIUzI1NiJ9.eyJlbXBJZCI6MSwiZXhwIjoxNzY5Mzc5NTgzfQ.DdB52ai7spD1x43SrxkJK2HrY7IRTIzgbAUfinhEfOE
2026-01-17 22:19:50.205 [http-nio-8080-exec-1] INFO  com.sky.interceptor.JwtTokenInterceptor - jwt校验: eyJhbGciOiJIUzI1NiJ9.eyJlbXBJZCI6MSwiZXhwIjoxNzY5Mzc5NTgzfQ.DdB52ai7spD1x43SrxkJK2HrY7IRTIzgbAUfinhEfOE
2026-01-17 22:19:50.205 [http-nio-8080-exec-7] INFO  com.sky.interceptor.JwtTokenInterceptor - jwt校验: eyJhbGciOiJIUzI1NiJ9.eyJlbXBJZCI6MSwiZXhwIjoxNzY5Mzc5NTgzfQ.DdB52ai7spD1x43SrxkJK2HrY7IRTIzgbAUfinhEfOE
2026-01-17 22:19:50.206 [http-nio-8080-exec-10] INFO  com.sky.interceptor.JwtTokenAdminInterceptor - id=1的员工登入苍穹外卖管理端

2026-01-17 22:19:50.206 [http-nio-8080-exec-7] INFO  com.sky.interceptor.JwtTokenAdminInterceptor - id=1的员工登入苍穹外卖管理端

2026-01-17 22:19:50.206 [http-nio-8080-exec-6] INFO  com.sky.interceptor.JwtTokenAdminInterceptor - id=1的员工登入苍穹外卖管理端

2026-01-17 22:19:50.206 [http-nio-8080-exec-1] INFO  com.sky.interceptor.JwtTokenAdminInterceptor - id=1的员工登入苍穹外卖管理端

2026-01-17 22:19:50.211 [http-nio-8080-exec-7] INFO  com.sky.controller.admin.ReportController - 统计2026-01-10到2026-01-16之间的新增用户数和总用户数
2026-01-17 22:19:50.211 [http-nio-8080-exec-1] INFO  com.sky.controller.admin.ReportController - 统计2026-01-10到2026-01-16之间的销量前十的商品
2026-01-17 22:19:50.211 [http-nio-8080-exec-10] INFO  com.sky.controller.admin.ReportController - 统计2026-01-10到2026-01-16之间的营业额
2026-01-17 22:19:50.211 [http-nio-8080-exec-6] INFO  com.sky.controller.admin.ReportController - 统计2026-01-10到2026-01-16之间的订单
2026-01-17 22:19:50.211 [http-nio-8080-exec-1] DEBUG com.sky.mapper.OrderDetailMapper.getTop10Sales - ==>  Preparing: # Caution: 此处sum(od.number)的别名必须是number，否则无法封装到GoodsSalesDTO中 select od.name, sum(od.number) as number from order_detail od, orders o where od.order_id=o.id and o.status=5 and o.order_time between ? and ? group by od.name order by number desc limit 10
2026-01-17 22:19:50.211 [http-nio-8080-exec-7] DEBUG com.sky.mapper.UserMapper.selectCount - ==>  Preparing: SELECT COUNT( * ) AS total FROM user WHERE (create_time BETWEEN ? AND ?)
2026-01-17 22:19:50.211 [http-nio-8080-exec-6] DEBUG com.sky.mapper.OrderMapper.selectCount - ==>  Preparing: SELECT COUNT( * ) AS total FROM orders WHERE (status = ? AND order_time BETWEEN ? AND ?)
2026-01-17 22:19:50.212 [http-nio-8080-exec-1] DEBUG com.sky.mapper.OrderDetailMapper.getTop10Sales - ==> Parameters: 2026-01-10T00:00(LocalDateTime), 2026-01-16T23:59:59.999999999(LocalDateTime)
2026-01-17 22:19:50.212 [http-nio-8080-exec-7] DEBUG com.sky.mapper.UserMapper.selectCount - ==> Parameters: 2026-01-10T00:00(LocalDateTime), 2026-01-10T23:59:59.999999999(LocalDateTime)
2026-01-17 22:19:50.212 [http-nio-8080-exec-6] DEBUG com.sky.mapper.OrderMapper.selectCount - ==> Parameters: 5(Integer), 2026-01-10T00:00(LocalDateTime), 2026-01-10T23:59:59.999999999(LocalDateTime)
2026-01-17 22:19:50.213 [http-nio-8080-exec-6] DEBUG com.sky.mapper.OrderMapper.selectCount - <==      Total: 1
2026-01-17 22:19:50.213 [http-nio-8080-exec-7] DEBUG com.sky.mapper.UserMapper.selectCount - <==      Total: 1
2026-01-17 22:19:50.214 [http-nio-8080-exec-6] DEBUG com.sky.mapper.OrderMapper.selectCount - ==>  Preparing: SELECT COUNT( * ) AS total FROM orders WHERE (order_time BETWEEN ? AND ?)
2026-01-17 22:19:50.215 [http-nio-8080-exec-6] DEBUG com.sky.mapper.OrderMapper.selectCount - ==> Parameters: 2026-01-10T00:00(LocalDateTime), 2026-01-10T23:59:59.999999999(LocalDateTime)
2026-01-17 22:19:50.214 [http-nio-8080-exec-7] DEBUG com.sky.mapper.UserMapper.selectCount - ==>  Preparing: SELECT COUNT( * ) AS total FROM user WHERE (create_time <= ?)
2026-01-17 22:19:50.215 [http-nio-8080-exec-7] DEBUG com.sky.mapper.UserMapper.selectCount - ==> Parameters: 2026-01-10T23:59:59.999999999(LocalDateTime)
2026-01-17 22:19:50.216 [http-nio-8080-exec-7] DEBUG com.sky.mapper.UserMapper.selectCount - <==      Total: 1
2026-01-17 22:19:50.216 [http-nio-8080-exec-6] DEBUG com.sky.mapper.OrderMapper.selectCount - <==      Total: 1
2026-01-17 22:19:50.216 [http-nio-8080-exec-1] DEBUG com.sky.mapper.OrderDetailMapper.getTop10Sales - <==      Total: 10
2026-01-17 22:19:50.217 [http-nio-8080-exec-7] DEBUG com.sky.mapper.UserMapper.selectCount - ==>  Preparing: SELECT COUNT( * ) AS total FROM user WHERE (create_time BETWEEN ? AND ?)
2026-01-17 22:19:50.217 [http-nio-8080-exec-6] DEBUG com.sky.mapper.OrderMapper.selectCount - ==>  Preparing: SELECT COUNT( * ) AS total FROM orders WHERE (status = ? AND order_time BETWEEN ? AND ?)
2026-01-17 22:19:50.217 [http-nio-8080-exec-7] DEBUG com.sky.mapper.UserMapper.selectCount - ==> Parameters: 2026-01-11T00:00(LocalDateTime), 2026-01-11T23:59:59.999999999(LocalDateTime)
2026-01-17 22:19:50.217 [http-nio-8080-exec-6] DEBUG com.sky.mapper.OrderMapper.selectCount - ==> Parameters: 5(Integer), 2026-01-11T00:00(LocalDateTime), 2026-01-11T23:59:59.999999999(LocalDateTime)
2026-01-17 22:19:50.217 [http-nio-8080-exec-7] DEBUG com.sky.mapper.UserMapper.selectCount - <==      Total: 1
2026-01-17 22:19:50.219 [http-nio-8080-exec-6] DEBUG com.sky.mapper.OrderMapper.selectCount - <==      Total: 1
2026-01-17 22:19:50.219 [http-nio-8080-exec-7] DEBUG com.sky.mapper.UserMapper.selectCount - ==>  Preparing: SELECT COUNT( * ) AS total FROM user WHERE (create_time <= ?)
2026-01-17 22:19:50.219 [http-nio-8080-exec-7] DEBUG com.sky.mapper.UserMapper.selectCount - ==> Parameters: 2026-01-11T23:59:59.999999999(LocalDateTime)
2026-01-17 22:19:50.219 [http-nio-8080-exec-6] DEBUG com.sky.mapper.OrderMapper.selectCount - ==>  Preparing: SELECT COUNT( * ) AS total FROM orders WHERE (order_time BETWEEN ? AND ?)
2026-01-17 22:19:50.219 [http-nio-8080-exec-6] DEBUG com.sky.mapper.OrderMapper.selectCount - ==> Parameters: 2026-01-11T00:00(LocalDateTime), 2026-01-11T23:59:59.999999999(LocalDateTime)
2026-01-17 22:19:50.220 [http-nio-8080-exec-7] DEBUG com.sky.mapper.UserMapper.selectCount - <==      Total: 1
2026-01-17 22:19:50.220 [http-nio-8080-exec-10] DEBUG com.sky.mapper.OrderMapper.selectObjs - ==>  Preparing: SELECT sum(amount) as turnover FROM orders WHERE (status = ? AND delivery_time BETWEEN ? AND ?)
2026-01-17 22:19:50.220 [http-nio-8080-exec-6] DEBUG com.sky.mapper.OrderMapper.selectCount - <==      Total: 1
2026-01-17 22:19:50.220 [http-nio-8080-exec-10] DEBUG com.sky.mapper.OrderMapper.selectObjs - ==> Parameters: 5(Integer), 2026-01-10T00:00(LocalDateTime), 2026-01-10T23:59:59.999999999(LocalDateTime)
2026-01-17 22:19:50.220 [http-nio-8080-exec-7] DEBUG com.sky.mapper.UserMapper.selectCount - ==>  Preparing: SELECT COUNT( * ) AS total FROM user WHERE (create_time BETWEEN ? AND ?)
2026-01-17 22:19:50.220 [http-nio-8080-exec-6] DEBUG com.sky.mapper.OrderMapper.selectCount - ==>  Preparing: SELECT COUNT( * ) AS total FROM orders WHERE (status = ? AND order_time BETWEEN ? AND ?)
2026-01-17 22:19:50.221 [http-nio-8080-exec-6] DEBUG com.sky.mapper.OrderMapper.selectCount - ==> Parameters: 5(Integer), 2026-01-12T00:00(LocalDateTime), 2026-01-12T23:59:59.999999999(LocalDateTime)
2026-01-17 22:19:50.221 [http-nio-8080-exec-7] DEBUG com.sky.mapper.UserMapper.selectCount - ==> Parameters: 2026-01-12T00:00(LocalDateTime), 2026-01-12T23:59:59.999999999(LocalDateTime)
2026-01-17 22:19:50.221 [http-nio-8080-exec-10] DEBUG com.sky.mapper.OrderMapper.selectObjs - <==      Total: 1
2026-01-17 22:19:50.221 [http-nio-8080-exec-7] DEBUG com.sky.mapper.UserMapper.selectCount - <==      Total: 1
2026-01-17 22:19:50.221 [http-nio-8080-exec-6] DEBUG com.sky.mapper.OrderMapper.selectCount - <==      Total: 1
2026-01-17 22:19:50.222 [http-nio-8080-exec-7] DEBUG com.sky.mapper.UserMapper.selectCount - ==>  Preparing: SELECT COUNT( * ) AS total FROM user WHERE (create_time <= ?)
2026-01-17 22:19:50.222 [http-nio-8080-exec-10] DEBUG com.sky.mapper.OrderMapper.selectObjs - ==>  Preparing: SELECT sum(amount) as turnover FROM orders WHERE (status = ? AND delivery_time BETWEEN ? AND ?)
2026-01-17 22:19:50.222 [http-nio-8080-exec-6] DEBUG com.sky.mapper.OrderMapper.selectCount - ==>  Preparing: SELECT COUNT( * ) AS total FROM orders WHERE (order_time BETWEEN ? AND ?)
2026-01-17 22:19:50.222 [http-nio-8080-exec-7] DEBUG com.sky.mapper.UserMapper.selectCount - ==> Parameters: 2026-01-12T23:59:59.999999999(LocalDateTime)
2026-01-17 22:19:50.222 [http-nio-8080-exec-6] DEBUG com.sky.mapper.OrderMapper.selectCount - ==> Parameters: 2026-01-12T00:00(LocalDateTime), 2026-01-12T23:59:59.999999999(LocalDateTime)
2026-01-17 22:19:50.222 [http-nio-8080-exec-10] DEBUG com.sky.mapper.OrderMapper.selectObjs - ==> Parameters: 5(Integer), 2026-01-11T00:00(LocalDateTime), 2026-01-11T23:59:59.999999999(LocalDateTime)
2026-01-17 22:19:50.223 [http-nio-8080-exec-6] DEBUG com.sky.mapper.OrderMapper.selectCount - <==      Total: 1
2026-01-17 22:19:50.223 [http-nio-8080-exec-7] DEBUG com.sky.mapper.UserMapper.selectCount - <==      Total: 1
2026-01-17 22:19:50.223 [http-nio-8080-exec-10] DEBUG com.sky.mapper.OrderMapper.selectObjs - <==      Total: 1
2026-01-17 22:19:50.223 [http-nio-8080-exec-7] DEBUG com.sky.mapper.UserMapper.selectCount - ==>  Preparing: SELECT COUNT( * ) AS total FROM user WHERE (create_time BETWEEN ? AND ?)
2026-01-17 22:19:50.223 [http-nio-8080-exec-10] DEBUG com.sky.mapper.OrderMapper.selectObjs - ==>  Preparing: SELECT sum(amount) as turnover FROM orders WHERE (status = ? AND delivery_time BETWEEN ? AND ?)
2026-01-17 22:19:50.223 [http-nio-8080-exec-6] DEBUG com.sky.mapper.OrderMapper.selectCount - ==>  Preparing: SELECT COUNT( * ) AS total FROM orders WHERE (status = ? AND order_time BETWEEN ? AND ?)
2026-01-17 22:19:50.223 [http-nio-8080-exec-7] DEBUG com.sky.mapper.UserMapper.selectCount - ==> Parameters: 2026-01-13T00:00(LocalDateTime), 2026-01-13T23:59:59.999999999(LocalDateTime)
2026-01-17 22:19:50.224 [http-nio-8080-exec-6] DEBUG com.sky.mapper.OrderMapper.selectCount - ==> Parameters: 5(Integer), 2026-01-13T00:00(LocalDateTime), 2026-01-13T23:59:59.999999999(LocalDateTime)
2026-01-17 22:19:50.224 [http-nio-8080-exec-10] DEBUG com.sky.mapper.OrderMapper.selectObjs - ==> Parameters: 5(Integer), 2026-01-12T00:00(LocalDateTime), 2026-01-12T23:59:59.999999999(LocalDateTime)
2026-01-17 22:19:50.224 [http-nio-8080-exec-7] DEBUG com.sky.mapper.UserMapper.selectCount - <==      Total: 1
2026-01-17 22:19:50.224 [http-nio-8080-exec-10] DEBUG com.sky.mapper.OrderMapper.selectObjs - <==      Total: 1
2026-01-17 22:19:50.224 [http-nio-8080-exec-6] DEBUG com.sky.mapper.OrderMapper.selectCount - <==      Total: 1
2026-01-17 22:19:50.225 [http-nio-8080-exec-7] DEBUG com.sky.mapper.UserMapper.selectCount - ==>  Preparing: SELECT COUNT( * ) AS total FROM user WHERE (create_time <= ?)
2026-01-17 22:19:50.225 [http-nio-8080-exec-6] DEBUG com.sky.mapper.OrderMapper.selectCount - ==>  Preparing: SELECT COUNT( * ) AS total FROM orders WHERE (order_time BETWEEN ? AND ?)
2026-01-17 22:19:50.225 [http-nio-8080-exec-10] DEBUG com.sky.mapper.OrderMapper.selectObjs - ==>  Preparing: SELECT sum(amount) as turnover FROM orders WHERE (status = ? AND delivery_time BETWEEN ? AND ?)
2026-01-17 22:19:50.225 [http-nio-8080-exec-7] DEBUG com.sky.mapper.UserMapper.selectCount - ==> Parameters: 2026-01-13T23:59:59.999999999(LocalDateTime)
2026-01-17 22:19:50.225 [http-nio-8080-exec-6] DEBUG com.sky.mapper.OrderMapper.selectCount - ==> Parameters: 2026-01-13T00:00(LocalDateTime), 2026-01-13T23:59:59.999999999(LocalDateTime)
2026-01-17 22:19:50.225 [http-nio-8080-exec-10] DEBUG com.sky.mapper.OrderMapper.selectObjs - ==> Parameters: 5(Integer), 2026-01-13T00:00(LocalDateTime), 2026-01-13T23:59:59.999999999(LocalDateTime)
2026-01-17 22:19:50.226 [http-nio-8080-exec-6] DEBUG com.sky.mapper.OrderMapper.selectCount - <==      Total: 1
2026-01-17 22:19:50.226 [http-nio-8080-exec-7] DEBUG com.sky.mapper.UserMapper.selectCount - <==      Total: 1
2026-01-17 22:19:50.226 [http-nio-8080-exec-10] DEBUG com.sky.mapper.OrderMapper.selectObjs - <==      Total: 1
2026-01-17 22:19:50.227 [http-nio-8080-exec-7] DEBUG com.sky.mapper.UserMapper.selectCount - ==>  Preparing: SELECT COUNT( * ) AS total FROM user WHERE (create_time BETWEEN ? AND ?)
2026-01-17 22:19:50.227 [http-nio-8080-exec-10] DEBUG com.sky.mapper.OrderMapper.selectObjs - ==>  Preparing: SELECT sum(amount) as turnover FROM orders WHERE (status = ? AND delivery_time BETWEEN ? AND ?)
2026-01-17 22:19:50.227 [http-nio-8080-exec-6] DEBUG com.sky.mapper.OrderMapper.selectCount - ==>  Preparing: SELECT COUNT( * ) AS total FROM orders WHERE (status = ? AND order_time BETWEEN ? AND ?)
2026-01-17 22:19:50.227 [http-nio-8080-exec-10] DEBUG com.sky.mapper.OrderMapper.selectObjs - ==> Parameters: 5(Integer), 2026-01-14T00:00(LocalDateTime), 2026-01-14T23:59:59.999999999(LocalDateTime)
2026-01-17 22:19:50.227 [http-nio-8080-exec-6] DEBUG com.sky.mapper.OrderMapper.selectCount - ==> Parameters: 5(Integer), 2026-01-14T00:00(LocalDateTime), 2026-01-14T23:59:59.999999999(LocalDateTime)
2026-01-17 22:19:50.227 [http-nio-8080-exec-7] DEBUG com.sky.mapper.UserMapper.selectCount - ==> Parameters: 2026-01-14T00:00(LocalDateTime), 2026-01-14T23:59:59.999999999(LocalDateTime)
2026-01-17 22:19:50.228 [http-nio-8080-exec-6] DEBUG com.sky.mapper.OrderMapper.selectCount - <==      Total: 1
2026-01-17 22:19:50.228 [http-nio-8080-exec-10] DEBUG com.sky.mapper.OrderMapper.selectObjs - <==      Total: 1
2026-01-17 22:19:50.228 [http-nio-8080-exec-7] DEBUG com.sky.mapper.UserMapper.selectCount - <==      Total: 1
2026-01-17 22:19:50.229 [http-nio-8080-exec-7] DEBUG com.sky.mapper.UserMapper.selectCount - ==>  Preparing: SELECT COUNT( * ) AS total FROM user WHERE (create_time <= ?)
2026-01-17 22:19:50.229 [http-nio-8080-exec-10] DEBUG com.sky.mapper.OrderMapper.selectObjs - ==>  Preparing: SELECT sum(amount) as turnover FROM orders WHERE (status = ? AND delivery_time BETWEEN ? AND ?)
2026-01-17 22:19:50.229 [http-nio-8080-exec-6] DEBUG com.sky.mapper.OrderMapper.selectCount - ==>  Preparing: SELECT COUNT( * ) AS total FROM orders WHERE (order_time BETWEEN ? AND ?)
2026-01-17 22:19:50.229 [http-nio-8080-exec-6] DEBUG com.sky.mapper.OrderMapper.selectCount - ==> Parameters: 2026-01-14T00:00(LocalDateTime), 2026-01-14T23:59:59.999999999(LocalDateTime)
2026-01-17 22:19:50.229 [http-nio-8080-exec-7] DEBUG com.sky.mapper.UserMapper.selectCount - ==> Parameters: 2026-01-14T23:59:59.999999999(LocalDateTime)
2026-01-17 22:19:50.229 [http-nio-8080-exec-10] DEBUG com.sky.mapper.OrderMapper.selectObjs - ==> Parameters: 5(Integer), 2026-01-15T00:00(LocalDateTime), 2026-01-15T23:59:59.999999999(LocalDateTime)
2026-01-17 22:19:50.230 [http-nio-8080-exec-7] DEBUG com.sky.mapper.UserMapper.selectCount - <==      Total: 1
2026-01-17 22:19:50.230 [http-nio-8080-exec-6] DEBUG com.sky.mapper.OrderMapper.selectCount - <==      Total: 1
2026-01-17 22:19:50.230 [http-nio-8080-exec-10] DEBUG com.sky.mapper.OrderMapper.selectObjs - <==      Total: 1
2026-01-17 22:19:50.230 [http-nio-8080-exec-6] DEBUG com.sky.mapper.OrderMapper.selectCount - ==>  Preparing: SELECT COUNT( * ) AS total FROM orders WHERE (status = ? AND order_time BETWEEN ? AND ?)
2026-01-17 22:19:50.230 [http-nio-8080-exec-7] DEBUG com.sky.mapper.UserMapper.selectCount - ==>  Preparing: SELECT COUNT( * ) AS total FROM user WHERE (create_time BETWEEN ? AND ?)
2026-01-17 22:19:50.231 [http-nio-8080-exec-10] DEBUG com.sky.mapper.OrderMapper.selectObjs - ==>  Preparing: SELECT sum(amount) as turnover FROM orders WHERE (status = ? AND delivery_time BETWEEN ? AND ?)
2026-01-17 22:19:50.231 [http-nio-8080-exec-6] DEBUG com.sky.mapper.OrderMapper.selectCount - ==> Parameters: 5(Integer), 2026-01-15T00:00(LocalDateTime), 2026-01-15T23:59:59.999999999(LocalDateTime)
2026-01-17 22:19:50.231 [http-nio-8080-exec-7] DEBUG com.sky.mapper.UserMapper.selectCount - ==> Parameters: 2026-01-15T00:00(LocalDateTime), 2026-01-15T23:59:59.999999999(LocalDateTime)
2026-01-17 22:19:50.231 [http-nio-8080-exec-10] DEBUG com.sky.mapper.OrderMapper.selectObjs - ==> Parameters: 5(Integer), 2026-01-16T00:00(LocalDateTime), 2026-01-16T23:59:59.999999999(LocalDateTime)
2026-01-17 22:19:50.232 [http-nio-8080-exec-6] DEBUG com.sky.mapper.OrderMapper.selectCount - <==      Total: 1
2026-01-17 22:19:50.232 [http-nio-8080-exec-10] DEBUG com.sky.mapper.OrderMapper.selectObjs - <==      Total: 1
2026-01-17 22:19:50.232 [http-nio-8080-exec-7] DEBUG com.sky.mapper.UserMapper.selectCount - <==      Total: 1
2026-01-17 22:19:50.232 [http-nio-8080-exec-10] INFO  com.sky.controller.admin.ReportController - 营业额列表：0.0,0.0,0.0,0.0,480.0,78.0,285.0
2026-01-17 22:19:50.232 [http-nio-8080-exec-7] DEBUG com.sky.mapper.UserMapper.selectCount - ==>  Preparing: SELECT COUNT( * ) AS total FROM user WHERE (create_time <= ?)
2026-01-17 22:19:50.232 [http-nio-8080-exec-6] DEBUG com.sky.mapper.OrderMapper.selectCount - ==>  Preparing: SELECT COUNT( * ) AS total FROM orders WHERE (order_time BETWEEN ? AND ?)
2026-01-17 22:19:50.233 [http-nio-8080-exec-6] DEBUG com.sky.mapper.OrderMapper.selectCount - ==> Parameters: 2026-01-15T00:00(LocalDateTime), 2026-01-15T23:59:59.999999999(LocalDateTime)
2026-01-17 22:19:50.233 [http-nio-8080-exec-7] DEBUG com.sky.mapper.UserMapper.selectCount - ==> Parameters: 2026-01-15T23:59:59.999999999(LocalDateTime)
2026-01-17 22:19:50.234 [http-nio-8080-exec-7] DEBUG com.sky.mapper.UserMapper.selectCount - <==      Total: 1
2026-01-17 22:19:50.234 [http-nio-8080-exec-6] DEBUG com.sky.mapper.OrderMapper.selectCount - <==      Total: 1
2026-01-17 22:19:50.235 [http-nio-8080-exec-7] DEBUG com.sky.mapper.UserMapper.selectCount - ==>  Preparing: SELECT COUNT( * ) AS total FROM user WHERE (create_time BETWEEN ? AND ?)
2026-01-17 22:19:50.235 [http-nio-8080-exec-6] DEBUG com.sky.mapper.OrderMapper.selectCount - ==>  Preparing: SELECT COUNT( * ) AS total FROM orders WHERE (status = ? AND order_time BETWEEN ? AND ?)
2026-01-17 22:19:50.235 [http-nio-8080-exec-7] DEBUG com.sky.mapper.UserMapper.selectCount - ==> Parameters: 2026-01-16T00:00(LocalDateTime), 2026-01-16T23:59:59.999999999(LocalDateTime)
2026-01-17 22:19:50.235 [http-nio-8080-exec-6] DEBUG com.sky.mapper.OrderMapper.selectCount - ==> Parameters: 5(Integer), 2026-01-16T00:00(LocalDateTime), 2026-01-16T23:59:59.999999999(LocalDateTime)
2026-01-17 22:19:50.236 [http-nio-8080-exec-6] DEBUG com.sky.mapper.OrderMapper.selectCount - <==      Total: 1
2026-01-17 22:19:50.236 [http-nio-8080-exec-7] DEBUG com.sky.mapper.UserMapper.selectCount - <==      Total: 1
2026-01-17 22:19:50.237 [http-nio-8080-exec-6] DEBUG com.sky.mapper.OrderMapper.selectCount - ==>  Preparing: SELECT COUNT( * ) AS total FROM orders WHERE (order_time BETWEEN ? AND ?)
2026-01-17 22:19:50.237 [http-nio-8080-exec-7] DEBUG com.sky.mapper.UserMapper.selectCount - ==>  Preparing: SELECT COUNT( * ) AS total FROM user WHERE (create_time <= ?)
2026-01-17 22:19:50.237 [http-nio-8080-exec-7] DEBUG com.sky.mapper.UserMapper.selectCount - ==> Parameters: 2026-01-16T23:59:59.999999999(LocalDateTime)
2026-01-17 22:19:50.237 [http-nio-8080-exec-6] DEBUG com.sky.mapper.OrderMapper.selectCount - ==> Parameters: 2026-01-16T00:00(LocalDateTime), 2026-01-16T23:59:59.999999999(LocalDateTime)
2026-01-17 22:19:50.238 [http-nio-8080-exec-6] DEBUG com.sky.mapper.OrderMapper.selectCount - <==      Total: 1
2026-01-17 22:19:50.238 [http-nio-8080-exec-7] DEBUG com.sky.mapper.UserMapper.selectCount - <==      Total: 1
2026-01-17 22:20:00.000 [scheduling-1] INFO  com.sky.task.OrderTask - 每分钟定时处理超时未付款的订单：2026-01-17T22:20:00.000952500
2026-01-17 22:20:00.002 [scheduling-1] DEBUG com.sky.mapper.OrderMapper.selectList - ==>  Preparing: SELECT id,number,status,user_id,address_book_id,order_time,checkout_time,pay_method,pay_status,amount,remark,user_name,phone,address,consignee,cancel_reason,rejection_reason,cancel_time,estimated_delivery_time,delivery_status,delivery_time,pack_amount,tableware_number,tableware_status FROM orders WHERE (status = ? AND order_time < ?)
2026-01-17 22:20:00.002 [scheduling-1] DEBUG com.sky.mapper.OrderMapper.selectList - ==> Parameters: 1(Integer), 2026-01-17T22:17:00.001626200(LocalDateTime)
2026-01-17 22:20:00.004 [scheduling-1] DEBUG com.sky.mapper.OrderMapper.selectList - <==      Total: 0
2026-01-17 22:20:02.726 [http-nio-8080-exec-10] WARN  org.springframework.web.servlet.PageNotFound - No mapping for GET /favicon.ico
2026-01-17 22:21:00.010 [scheduling-1] INFO  com.sky.task.OrderTask - 每分钟定时处理超时未付款的订单：2026-01-17T22:21:00.010971600
2026-01-17 22:21:00.026 [scheduling-1] ERROR com.alibaba.druid.pool.DruidAbstractDataSource - discard long time none received connection. , jdbcUrl : jdbc:mysql://localhost:3306/sky_take_out?serverTimezone=Asia/Shanghai&useUnicode=true&characterEncoding=utf-8&zeroDateTimeBehavior=convertToNull&useSSL=false&allowPublicKeyRetrieval=true, jdbcUrl : jdbc:mysql://localhost:3306/sky_take_out?serverTimezone=Asia/Shanghai&useUnicode=true&characterEncoding=utf-8&zeroDateTimeBehavior=convertToNull&useSSL=false&allowPublicKeyRetrieval=true, lastPacketReceivedIdleMillis : 60011
2026-01-17 22:21:00.027 [scheduling-1] ERROR com.alibaba.druid.pool.DruidAbstractDataSource - discard long time none received connection. , jdbcUrl : jdbc:mysql://localhost:3306/sky_take_out?serverTimezone=Asia/Shanghai&useUnicode=true&characterEncoding=utf-8&zeroDateTimeBehavior=convertToNull&useSSL=false&allowPublicKeyRetrieval=true, jdbcUrl : jdbc:mysql://localhost:3306/sky_take_out?serverTimezone=Asia/Shanghai&useUnicode=true&characterEncoding=utf-8&zeroDateTimeBehavior=convertToNull&useSSL=false&allowPublicKeyRetrieval=true, lastPacketReceivedIdleMillis : 69788
2026-01-17 22:21:00.028 [scheduling-1] ERROR com.alibaba.druid.pool.DruidAbstractDataSource - discard long time none received connection. , jdbcUrl : jdbc:mysql://localhost:3306/sky_take_out?serverTimezone=Asia/Shanghai&useUnicode=true&characterEncoding=utf-8&zeroDateTimeBehavior=convertToNull&useSSL=false&allowPublicKeyRetrieval=true, jdbcUrl : jdbc:mysql://localhost:3306/sky_take_out?serverTimezone=Asia/Shanghai&useUnicode=true&characterEncoding=utf-8&zeroDateTimeBehavior=convertToNull&useSSL=false&allowPublicKeyRetrieval=true, lastPacketReceivedIdleMillis : 69796
2026-01-17 22:21:00.028 [scheduling-1] ERROR com.alibaba.druid.pool.DruidAbstractDataSource - discard long time none received connection. , jdbcUrl : jdbc:mysql://localhost:3306/sky_take_out?serverTimezone=Asia/Shanghai&useUnicode=true&characterEncoding=utf-8&zeroDateTimeBehavior=convertToNull&useSSL=false&allowPublicKeyRetrieval=true, jdbcUrl : jdbc:mysql://localhost:3306/sky_take_out?serverTimezone=Asia/Shanghai&useUnicode=true&characterEncoding=utf-8&zeroDateTimeBehavior=convertToNull&useSSL=false&allowPublicKeyRetrieval=true, lastPacketReceivedIdleMillis : 76296
2026-01-17 22:21:00.032 [scheduling-1] DEBUG com.sky.mapper.OrderMapper.selectList - ==>  Preparing: SELECT id,number,status,user_id,address_book_id,order_time,checkout_time,pay_method,pay_status,amount,remark,user_name,phone,address,consignee,cancel_reason,rejection_reason,cancel_time,estimated_delivery_time,delivery_status,delivery_time,pack_amount,tableware_number,tableware_status FROM orders WHERE (status = ? AND order_time < ?)
2026-01-17 22:21:00.032 [scheduling-1] DEBUG com.sky.mapper.OrderMapper.selectList - ==> Parameters: 1(Integer), 2026-01-17T22:18:00.010971600(LocalDateTime)
2026-01-17 22:21:00.033 [scheduling-1] DEBUG com.sky.mapper.OrderMapper.selectList - <==      Total: 0
2026-01-17 22:21:45.978 [http-nio-8080-exec-9] INFO  com.sky.websocket.WebSocketServer - 客户端6sad62q9cw与服务端断开连接

2026-01-17 22:21:49.190 [lettuce-eventExecutorLoop-1-2] INFO  io.lettuce.core.protocol.ConnectionWatchdog - Reconnecting, last destination was localhost/127.0.0.1:6379
2026-01-17 22:21:49.199 [lettuce-nioEventLoop-4-2] WARN  io.lettuce.core.protocol.ConnectionWatchdog - Cannot reconnect to [localhost/<unresolved>:6379]: Connection closed prematurely
io.lettuce.core.RedisConnectionException: Connection closed prematurely
	at io.lettuce.core.protocol.RedisHandshakeHandler.channelInactive(RedisHandshakeHandler.java:86)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:262)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:248)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:241)
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81)
	at io.lettuce.core.ChannelGroupListener.channelInactive(ChannelGroupListener.java:69)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:262)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:248)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:241)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelInactive(DefaultChannelPipeline.java:1405)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:262)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:248)
	at io.netty.channel.DefaultChannelPipeline.fireChannelInactive(DefaultChannelPipeline.java:901)
	at io.netty.channel.AbstractChannel$AbstractUnsafe$7.run(AbstractChannel.java:813)
	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:174)
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:167)
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:470)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:500)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:840)
2026-01-17 22:21:58.226 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closing ...
2026-01-17 22:21:58.228 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closed
