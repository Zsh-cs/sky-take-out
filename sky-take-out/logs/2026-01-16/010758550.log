2026-01-16 01:07:58.623 [main] INFO  com.sky.SkyApplication - Starting SkyApplication using Java 17.0.12 on Zsh with PID 24824 (D:\ZSH-ComputerScience\CangQiong\sky-take-out\sky-take-out\sky-server\target\classes started by asus in D:\ZSH-ComputerScience\CangQiong\sky-take-out\sky-take-out)
2026-01-16 01:07:58.626 [main] INFO  com.sky.SkyApplication - The following 1 profile is active: "dev"
2026-01-16 01:07:59.270 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2026-01-16 01:07:59.272 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2026-01-16 01:07:59.299 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 17 ms. Found 0 Redis repository interfaces.
2026-01-16 01:07:59.902 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2026-01-16 01:07:59.902 [main] INFO  org.apache.catalina.core.AprLifecycleListener - Loaded Apache Tomcat Native library [1.3.1] using APR version [1.7.4].
2026-01-16 01:07:59.902 [main] INFO  org.apache.catalina.core.AprLifecycleListener - APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true], UDS [true].
2026-01-16 01:07:59.902 [main] INFO  org.apache.catalina.core.AprLifecycleListener - APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2026-01-16 01:07:59.906 [main] INFO  org.apache.catalina.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.0.14 4 Jun 2024]
2026-01-16 01:07:59.912 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2026-01-16 01:07:59.912 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.65]
2026-01-16 01:08:00.012 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2026-01-16 01:08:00.013 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1348 ms
2026-01-16 01:08:00.076 [main] INFO  c.a.d.s.b.a.DruidDataSourceAutoConfigure - Init DruidDataSource
2026-01-16 01:08:00.181 [main] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} inited
2026-01-16 01:08:00.229 [main] INFO  com.sky.config.MyBatisPlusConfig - 开始注册MyBatis-Plus的拦截器...
2026-01-16 01:08:00.342 [main] WARN  c.b.mybatisplus.core.injector.methods.Update - [com.sky.mapper.CategoryMapper.update] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Update]
2026-01-16 01:08:00.378 [main] WARN  c.b.mybatisplus.core.injector.methods.Update - [com.sky.mapper.DishMapper.update] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Update]
2026-01-16 01:08:00.398 [main] WARN  c.b.mybatisplus.core.injector.methods.Update - [com.sky.mapper.EmployeeMapper.update] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Update]
2026-01-16 01:08:00.432 [main] WARN  c.b.mybatisplus.core.injector.methods.Update - [com.sky.mapper.SetmealMapper.update] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Update]
2026-01-16 01:08:00.571 [main] INFO  com.sky.config.AliyunOssConfig - 开始创建阿里云OSS文件上传工具对象...
2026-01-16 01:08:00.718 [main] INFO  com.sky.config.RedisConfig - 开始创建Redis模板对象...
2026-01-16 01:08:01.024 [main] INFO  com.sky.config.WebMvcConfig - 开始注册自定义拦截器...
2026-01-16 01:08:01.094 [main] INFO  com.sky.config.WebMvcConfig - 准备生成管理端接口文档...
2026-01-16 01:08:01.098 [main] INFO  com.sky.config.WebMvcConfig - 准备生成用户端接口文档...
2026-01-16 01:08:01.127 [main] INFO  com.sky.config.WebMvcConfig - 扩展消息转换器...
2026-01-16 01:08:01.132 [main] INFO  com.sky.config.WebMvcConfig - 开始设置静态资源映射...
2026-01-16 01:08:01.509 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2026-01-16 01:08:01.865 [main] INFO  com.sky.SkyApplication - Started SkyApplication in 3.598 seconds (JVM running for 4.099)
2026-01-16 01:08:01.867 [main] INFO  com.sky.SkyApplication - server starts ...
2026-01-16 01:08:05.452 [http-nio-8080-exec-2] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2026-01-16 01:08:05.453 [http-nio-8080-exec-2] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2026-01-16 01:08:05.454 [http-nio-8080-exec-2] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2026-01-16 01:08:05.465 [http-nio-8080-exec-2] INFO  com.sky.interceptor.JwtTokenInterceptor - jwt校验: eyJhbGciOiJIUzI1NiJ9.eyJlbXBJZCI6MSwiZXhwIjoxNzY5MjE1Mzc1fQ.mWVk4nDGX_eRLA96jVkAg0ukef2r3bRKvWY__7oXfhI
2026-01-16 01:08:05.465 [http-nio-8080-exec-1] INFO  com.sky.interceptor.JwtTokenInterceptor - jwt校验: eyJhbGciOiJIUzI1NiJ9.eyJlbXBJZCI6MSwiZXhwIjoxNzY5MjE1Mzc1fQ.mWVk4nDGX_eRLA96jVkAg0ukef2r3bRKvWY__7oXfhI
2026-01-16 01:08:05.503 [http-nio-8080-exec-2] INFO  com.sky.interceptor.JwtTokenAdminInterceptor - id=1的员工登入苍穹外卖管理端

2026-01-16 01:08:05.503 [http-nio-8080-exec-1] INFO  com.sky.interceptor.JwtTokenAdminInterceptor - id=1的员工登入苍穹外卖管理端

2026-01-16 01:08:05.516 [http-nio-8080-exec-1] INFO  com.sky.controller.admin.CategoryController - 查询已启用的菜品分类
2026-01-16 01:08:05.521 [http-nio-8080-exec-2] INFO  com.sky.controller.admin.DishController - 菜品分页查询，参数为：DishPageQueryDTO(page=1, pageSize=10, name=null, categoryId=null, status=null)

2026-01-16 01:08:05.684 [http-nio-8080-exec-2] DEBUG com.sky.mapper.DishMapper.pageQuery_mpCount - ==>  Preparing: SELECT COUNT(*) AS total FROM dish d WHERE d.deleted = 0
2026-01-16 01:08:05.684 [http-nio-8080-exec-1] DEBUG com.sky.mapper.CategoryMapper.selectList - ==>  Preparing: SELECT id,type,name,sort,status,create_time,create_user,update_time,update_user,deleted FROM category WHERE deleted=0 AND (type = ? AND status = ?) ORDER BY sort ASC
2026-01-16 01:08:05.702 [http-nio-8080-exec-2] DEBUG com.sky.mapper.DishMapper.pageQuery_mpCount - ==> Parameters: 
2026-01-16 01:08:05.703 [http-nio-8080-exec-1] DEBUG com.sky.mapper.CategoryMapper.selectList - ==> Parameters: 1(Integer), 1(Integer)
2026-01-16 01:08:05.724 [http-nio-8080-exec-2] DEBUG com.sky.mapper.DishMapper.pageQuery_mpCount - <==      Total: 1
2026-01-16 01:08:05.729 [http-nio-8080-exec-1] DEBUG com.sky.mapper.CategoryMapper.selectList - <==      Total: 8
2026-01-16 01:08:05.730 [http-nio-8080-exec-2] DEBUG com.sky.mapper.DishMapper.pageQuery - ==>  Preparing: select d.*,c.name as categoryName from dish d left join category c on d.category_id = c.id WHERE d.deleted=0 order by d.create_time desc LIMIT ?
2026-01-16 01:08:05.731 [http-nio-8080-exec-2] DEBUG com.sky.mapper.DishMapper.pageQuery - ==> Parameters: 10(Long)
2026-01-16 01:08:05.737 [http-nio-8080-exec-2] DEBUG com.sky.mapper.DishMapper.pageQuery - <==      Total: 10
2026-01-16 01:08:58.297 [http-nio-8080-exec-4] INFO  com.sky.interceptor.JwtTokenInterceptor - jwt校验: eyJhbGciOiJIUzI1NiJ9.eyJlbXBJZCI6MSwiZXhwIjoxNzY5MjE1Mzc1fQ.mWVk4nDGX_eRLA96jVkAg0ukef2r3bRKvWY__7oXfhI
2026-01-16 01:08:58.298 [http-nio-8080-exec-4] INFO  com.sky.interceptor.JwtTokenAdminInterceptor - id=1的员工登入苍穹外卖管理端

2026-01-16 01:08:58.300 [http-nio-8080-exec-4] INFO  com.sky.controller.admin.CategoryController - 分类分页查询，参数为：CategoryPageQueryDTO(page=1, pageSize=10, name=null, type=null)

2026-01-16 01:08:58.306 [http-nio-8080-exec-4] DEBUG com.sky.mapper.CategoryMapper.selectList_mpCount - ==>  Preparing: SELECT COUNT(*) AS total FROM category WHERE deleted = 0
2026-01-16 01:08:58.307 [http-nio-8080-exec-4] DEBUG com.sky.mapper.CategoryMapper.selectList_mpCount - ==> Parameters: 
2026-01-16 01:08:58.310 [http-nio-8080-exec-4] DEBUG com.sky.mapper.CategoryMapper.selectList_mpCount - <==      Total: 1
2026-01-16 01:08:58.310 [http-nio-8080-exec-4] DEBUG com.sky.mapper.CategoryMapper.selectList - ==>  Preparing: SELECT id,type,name,sort,status,create_time,create_user,update_time,update_user,deleted FROM category WHERE deleted=0 ORDER BY sort ASC,create_time DESC LIMIT ?
2026-01-16 01:08:58.310 [http-nio-8080-exec-4] DEBUG com.sky.mapper.CategoryMapper.selectList - ==> Parameters: 10(Long)
2026-01-16 01:08:58.316 [http-nio-8080-exec-4] DEBUG com.sky.mapper.CategoryMapper.selectList - <==      Total: 10
2026-01-16 01:09:00.010 [scheduling-1] INFO  com.sky.task.OrderTask - 每分钟定时处理超时未付款的订单：2026-01-16T01:09:00.010227300
2026-01-16 01:09:00.016 [scheduling-1] DEBUG com.sky.mapper.OrderMapper.selectList - ==>  Preparing: SELECT id,number,status,user_id,address_book_id,order_time,checkout_time,pay_method,pay_status,amount,remark,user_name,phone,address,consignee,cancel_reason,rejection_reason,cancel_time,estimated_delivery_time,delivery_status,delivery_time,pack_amount,tableware_number,tableware_status FROM orders WHERE (status = ? AND order_time < ?)
2026-01-16 01:09:00.016 [scheduling-1] DEBUG com.sky.mapper.OrderMapper.selectList - ==> Parameters: 1(Integer), 2026-01-16T01:06:00.015894300(LocalDateTime)
2026-01-16 01:09:00.020 [scheduling-1] DEBUG com.sky.mapper.OrderMapper.selectList - <==      Total: 0
2026-01-16 01:09:01.815 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closing ...
2026-01-16 01:09:01.819 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closed
