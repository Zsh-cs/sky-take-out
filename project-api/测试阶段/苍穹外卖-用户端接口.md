# 苍穹外卖项目接口文档


**简介**:苍穹外卖项目接口文档


**HOST**:localhost:8080


**联系人**:


**Version**:1.0


**接口路径**:/v2/api-docs?group=用户端接口


[TOC]






# 用户端-分类接口


## [根据type]查询已启用的分类


**接口地址**:`/user/category/list`


**请求方式**:`GET`


**请求数据类型**:`application/x-www-form-urlencoded`


**响应数据类型**:`*/*`


**接口描述**:


**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|type|type|query|false|integer(int32)||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|Result«List«CategoryDTO»»|
|401|Unauthorized||
|403|Forbidden||
|404|Not Found||


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code||integer(int32)|integer(int32)|
|data||array|CategoryDTO|
|&emsp;&emsp;id||integer(int64)||
|&emsp;&emsp;name||string||
|&emsp;&emsp;sort||integer(int32)||
|&emsp;&emsp;type||integer(int32)||
|msg||string||


**响应示例**:
```javascript
{
	"code": 0,
	"data": [
		{
			"id": 0,
			"name": "",
			"sort": 0,
			"type": 0
		}
	],
	"msg": ""
}
```


# 用户端-地址簿接口


## 新增地址


**接口地址**:`/user/addressBook`


**请求方式**:`POST`


**请求数据类型**:`application/json`


**响应数据类型**:`*/*`


**接口描述**:


**请求示例**:


```javascript
{
  "cityCode": "",
  "cityName": "",
  "consignee": "",
  "detail": "",
  "districtCode": "",
  "districtName": "",
  "id": 0,
  "isDefault": 0,
  "label": "",
  "phone": "",
  "provinceCode": "",
  "provinceName": "",
  "sex": "",
  "userId": 0
}
```


**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|address|address|body|true|Address|Address|
|&emsp;&emsp;cityCode|||false|string||
|&emsp;&emsp;cityName|||false|string||
|&emsp;&emsp;consignee|||false|string||
|&emsp;&emsp;detail|||false|string||
|&emsp;&emsp;districtCode|||false|string||
|&emsp;&emsp;districtName|||false|string||
|&emsp;&emsp;id|||false|integer(int64)||
|&emsp;&emsp;isDefault|||false|integer(int32)||
|&emsp;&emsp;label|||false|string||
|&emsp;&emsp;phone|||false|string||
|&emsp;&emsp;provinceCode|||false|string||
|&emsp;&emsp;provinceName|||false|string||
|&emsp;&emsp;sex|||false|string||
|&emsp;&emsp;userId|||false|integer(int64)||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|Result|
|201|Created||
|401|Unauthorized||
|403|Forbidden||
|404|Not Found||


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code||integer(int32)|integer(int32)|
|data||object||
|msg||string||


**响应示例**:
```javascript
{
	"code": 0,
	"data": {},
	"msg": ""
}
```


## 根据id修改地址


**接口地址**:`/user/addressBook`


**请求方式**:`PUT`


**请求数据类型**:`application/json`


**响应数据类型**:`*/*`


**接口描述**:


**请求示例**:


```javascript
{
  "cityCode": "",
  "cityName": "",
  "consignee": "",
  "detail": "",
  "districtCode": "",
  "districtName": "",
  "id": 0,
  "isDefault": 0,
  "label": "",
  "phone": "",
  "provinceCode": "",
  "provinceName": "",
  "sex": "",
  "userId": 0
}
```


**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|address|address|body|true|Address|Address|
|&emsp;&emsp;cityCode|||false|string||
|&emsp;&emsp;cityName|||false|string||
|&emsp;&emsp;consignee|||false|string||
|&emsp;&emsp;detail|||false|string||
|&emsp;&emsp;districtCode|||false|string||
|&emsp;&emsp;districtName|||false|string||
|&emsp;&emsp;id|||false|integer(int64)||
|&emsp;&emsp;isDefault|||false|integer(int32)||
|&emsp;&emsp;label|||false|string||
|&emsp;&emsp;phone|||false|string||
|&emsp;&emsp;provinceCode|||false|string||
|&emsp;&emsp;provinceName|||false|string||
|&emsp;&emsp;sex|||false|string||
|&emsp;&emsp;userId|||false|integer(int64)||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|Result|
|201|Created||
|401|Unauthorized||
|403|Forbidden||
|404|Not Found||


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code||integer(int32)|integer(int32)|
|data||object||
|msg||string||


**响应示例**:
```javascript
{
	"code": 0,
	"data": {},
	"msg": ""
}
```


## 根据id删除地址


**接口地址**:`/user/addressBook`


**请求方式**:`DELETE`


**请求数据类型**:`application/x-www-form-urlencoded`


**响应数据类型**:`*/*`


**接口描述**:


**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|id|id|query|true|integer(int64)||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|Result|
|204|No Content||
|401|Unauthorized||
|403|Forbidden||


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code||integer(int32)|integer(int32)|
|data||object||
|msg||string||


**响应示例**:
```javascript
{
	"code": 0,
	"data": {},
	"msg": ""
}
```


## 查询默认地址


**接口地址**:`/user/addressBook/default`


**请求方式**:`GET`


**请求数据类型**:`application/x-www-form-urlencoded`


**响应数据类型**:`*/*`


**接口描述**:


**请求参数**:


暂无


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|Result«Address»|
|401|Unauthorized||
|403|Forbidden||
|404|Not Found||


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code||integer(int32)|integer(int32)|
|data||Address|Address|
|&emsp;&emsp;cityCode||string||
|&emsp;&emsp;cityName||string||
|&emsp;&emsp;consignee||string||
|&emsp;&emsp;detail||string||
|&emsp;&emsp;districtCode||string||
|&emsp;&emsp;districtName||string||
|&emsp;&emsp;id||integer(int64)||
|&emsp;&emsp;isDefault||integer(int32)||
|&emsp;&emsp;label||string||
|&emsp;&emsp;phone||string||
|&emsp;&emsp;provinceCode||string||
|&emsp;&emsp;provinceName||string||
|&emsp;&emsp;sex||string||
|&emsp;&emsp;userId||integer(int64)||
|msg||string||


**响应示例**:
```javascript
{
	"code": 0,
	"data": {
		"cityCode": "",
		"cityName": "",
		"consignee": "",
		"detail": "",
		"districtCode": "",
		"districtName": "",
		"id": 0,
		"isDefault": 0,
		"label": "",
		"phone": "",
		"provinceCode": "",
		"provinceName": "",
		"sex": "",
		"userId": 0
	},
	"msg": ""
}
```


## 设置默认地址


**接口地址**:`/user/addressBook/default`


**请求方式**:`PUT`


**请求数据类型**:`application/json`


**响应数据类型**:`*/*`


**接口描述**:


**请求示例**:


```javascript
{
  "cityCode": "",
  "cityName": "",
  "consignee": "",
  "detail": "",
  "districtCode": "",
  "districtName": "",
  "id": 0,
  "isDefault": 0,
  "label": "",
  "phone": "",
  "provinceCode": "",
  "provinceName": "",
  "sex": "",
  "userId": 0
}
```


**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|address|address|body|true|Address|Address|
|&emsp;&emsp;cityCode|||false|string||
|&emsp;&emsp;cityName|||false|string||
|&emsp;&emsp;consignee|||false|string||
|&emsp;&emsp;detail|||false|string||
|&emsp;&emsp;districtCode|||false|string||
|&emsp;&emsp;districtName|||false|string||
|&emsp;&emsp;id|||false|integer(int64)||
|&emsp;&emsp;isDefault|||false|integer(int32)||
|&emsp;&emsp;label|||false|string||
|&emsp;&emsp;phone|||false|string||
|&emsp;&emsp;provinceCode|||false|string||
|&emsp;&emsp;provinceName|||false|string||
|&emsp;&emsp;sex|||false|string||
|&emsp;&emsp;userId|||false|integer(int64)||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|Result|
|201|Created||
|401|Unauthorized||
|403|Forbidden||
|404|Not Found||


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code||integer(int32)|integer(int32)|
|data||object||
|msg||string||


**响应示例**:
```javascript
{
	"code": 0,
	"data": {},
	"msg": ""
}
```


## 查询当前用户的所有地址


**接口地址**:`/user/addressBook/list`


**请求方式**:`GET`


**请求数据类型**:`application/x-www-form-urlencoded`


**响应数据类型**:`*/*`


**接口描述**:


**请求参数**:


暂无


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|Result«List«Address»»|
|401|Unauthorized||
|403|Forbidden||
|404|Not Found||


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code||integer(int32)|integer(int32)|
|data||array|Address|
|&emsp;&emsp;cityCode||string||
|&emsp;&emsp;cityName||string||
|&emsp;&emsp;consignee||string||
|&emsp;&emsp;detail||string||
|&emsp;&emsp;districtCode||string||
|&emsp;&emsp;districtName||string||
|&emsp;&emsp;id||integer(int64)||
|&emsp;&emsp;isDefault||integer(int32)||
|&emsp;&emsp;label||string||
|&emsp;&emsp;phone||string||
|&emsp;&emsp;provinceCode||string||
|&emsp;&emsp;provinceName||string||
|&emsp;&emsp;sex||string||
|&emsp;&emsp;userId||integer(int64)||
|msg||string||


**响应示例**:
```javascript
{
	"code": 0,
	"data": [
		{
			"cityCode": "",
			"cityName": "",
			"consignee": "",
			"detail": "",
			"districtCode": "",
			"districtName": "",
			"id": 0,
			"isDefault": 0,
			"label": "",
			"phone": "",
			"provinceCode": "",
			"provinceName": "",
			"sex": "",
			"userId": 0
		}
	],
	"msg": ""
}
```


## 根据id查询地址


**接口地址**:`/user/addressBook/{id}`


**请求方式**:`GET`


**请求数据类型**:`application/x-www-form-urlencoded`


**响应数据类型**:`*/*`


**接口描述**:


**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|id|id|path|true|integer(int64)||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|Result«Address»|
|401|Unauthorized||
|403|Forbidden||
|404|Not Found||


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code||integer(int32)|integer(int32)|
|data||Address|Address|
|&emsp;&emsp;cityCode||string||
|&emsp;&emsp;cityName||string||
|&emsp;&emsp;consignee||string||
|&emsp;&emsp;detail||string||
|&emsp;&emsp;districtCode||string||
|&emsp;&emsp;districtName||string||
|&emsp;&emsp;id||integer(int64)||
|&emsp;&emsp;isDefault||integer(int32)||
|&emsp;&emsp;label||string||
|&emsp;&emsp;phone||string||
|&emsp;&emsp;provinceCode||string||
|&emsp;&emsp;provinceName||string||
|&emsp;&emsp;sex||string||
|&emsp;&emsp;userId||integer(int64)||
|msg||string||


**响应示例**:
```javascript
{
	"code": 0,
	"data": {
		"cityCode": "",
		"cityName": "",
		"consignee": "",
		"detail": "",
		"districtCode": "",
		"districtName": "",
		"id": 0,
		"isDefault": 0,
		"label": "",
		"phone": "",
		"provinceCode": "",
		"provinceName": "",
		"sex": "",
		"userId": 0
	},
	"msg": ""
}
```


# 用户端-套餐接口


## 根据套餐id查询套餐包含的菜品


**接口地址**:`/user/setmeal/dish/{id}`


**请求方式**:`GET`


**请求数据类型**:`application/x-www-form-urlencoded`


**响应数据类型**:`*/*`


**接口描述**:


**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|id|id|path|true|integer(int64)||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|Result«List«DishItemVO»»|
|401|Unauthorized||
|403|Forbidden||
|404|Not Found||


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code||integer(int32)|integer(int32)|
|data||array|DishItemVO|
|&emsp;&emsp;copies||integer(int32)||
|&emsp;&emsp;description||string||
|&emsp;&emsp;image||string||
|&emsp;&emsp;name||string||
|msg||string||


**响应示例**:
```javascript
{
	"code": 0,
	"data": [
		{
			"copies": 0,
			"description": "",
			"image": "",
			"name": ""
		}
	],
	"msg": ""
}
```


## 根据分类id查询已启用的套餐


**接口地址**:`/user/setmeal/list`


**请求方式**:`GET`


**请求数据类型**:`application/x-www-form-urlencoded`


**响应数据类型**:`*/*`


**接口描述**:


**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|categoryId|categoryId|query|false|integer(int64)||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|Result«List«Setmeal»»|
|401|Unauthorized||
|403|Forbidden||
|404|Not Found||


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code||integer(int32)|integer(int32)|
|data||array|Setmeal|
|&emsp;&emsp;categoryId||integer(int64)||
|&emsp;&emsp;createTime||string(date-time)||
|&emsp;&emsp;createUser||integer(int64)||
|&emsp;&emsp;deleted||integer(int32)||
|&emsp;&emsp;description||string||
|&emsp;&emsp;id||integer(int64)||
|&emsp;&emsp;image||string||
|&emsp;&emsp;name||string||
|&emsp;&emsp;price||number||
|&emsp;&emsp;status||integer(int32)||
|&emsp;&emsp;updateTime||string(date-time)||
|&emsp;&emsp;updateUser||integer(int64)||
|msg||string||


**响应示例**:
```javascript
{
	"code": 0,
	"data": [
		{
			"categoryId": 0,
			"createTime": "",
			"createUser": 0,
			"deleted": 0,
			"description": "",
			"id": 0,
			"image": "",
			"name": "",
			"price": 0,
			"status": 0,
			"updateTime": "",
			"updateUser": 0
		}
	],
	"msg": ""
}
```


# 用户端-店铺营业状态


## 获取店铺营业状态


**接口地址**:`/user/shop/status`


**请求方式**:`GET`


**请求数据类型**:`application/x-www-form-urlencoded`


**响应数据类型**:`*/*`


**接口描述**:


**请求参数**:


暂无


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|Result«int»|
|401|Unauthorized||
|403|Forbidden||
|404|Not Found||


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code||integer(int32)|integer(int32)|
|data||integer(int32)|integer(int32)|
|msg||string||


**响应示例**:
```javascript
{
	"code": 0,
	"data": 0,
	"msg": ""
}
```


# 用户端-用户接口


## 微信用户登录


**接口地址**:`/user/user/login`


**请求方式**:`POST`


**请求数据类型**:`application/json`


**响应数据类型**:`*/*`


**接口描述**:


**请求示例**:


```javascript
{
  "code": ""
}
```


**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|userLoginDTO|userLoginDTO|body|true|UserLoginDTO|UserLoginDTO|
|&emsp;&emsp;code|||false|string||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|Result«UserLoginVO»|
|201|Created||
|401|Unauthorized||
|403|Forbidden||
|404|Not Found||


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code||integer(int32)|integer(int32)|
|data||UserLoginVO|UserLoginVO|
|&emsp;&emsp;id||integer(int64)||
|&emsp;&emsp;openid||string||
|&emsp;&emsp;token||string||
|msg||string||


**响应示例**:
```javascript
{
	"code": 0,
	"data": {
		"id": 0,
		"openid": "",
		"token": ""
	},
	"msg": ""
}
```


## 微信用户退出登录


**接口地址**:`/user/user/logout`


**请求方式**:`POST`


**请求数据类型**:`application/json`


**响应数据类型**:`*/*`


**接口描述**:


**请求参数**:


暂无


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|Result|
|201|Created||
|401|Unauthorized||
|403|Forbidden||
|404|Not Found||


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code||integer(int32)|integer(int32)|
|data||object||
|msg||string||


**响应示例**:
```javascript
{
	"code": 0,
	"data": {},
	"msg": ""
}
```


# 用户端-菜品接口


## 根据分类id查询已启用的菜品及其关联的口味


**接口地址**:`/user/dish/list`


**请求方式**:`GET`


**请求数据类型**:`application/x-www-form-urlencoded`


**响应数据类型**:`*/*`


**接口描述**:


**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|categoryId|categoryId|query|false|integer(int64)||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|Result«List«DishVO»»|
|401|Unauthorized||
|403|Forbidden||
|404|Not Found||


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code||integer(int32)|integer(int32)|
|data||array|DishVO|
|&emsp;&emsp;categoryId||integer(int64)||
|&emsp;&emsp;categoryName||string||
|&emsp;&emsp;description||string||
|&emsp;&emsp;flavors||array|DishFlavor|
|&emsp;&emsp;&emsp;&emsp;dishId||integer||
|&emsp;&emsp;&emsp;&emsp;id||integer||
|&emsp;&emsp;&emsp;&emsp;name||string||
|&emsp;&emsp;&emsp;&emsp;value||string||
|&emsp;&emsp;id||integer(int64)||
|&emsp;&emsp;image||string||
|&emsp;&emsp;name||string||
|&emsp;&emsp;price||number||
|&emsp;&emsp;status||integer(int32)||
|&emsp;&emsp;updateTime||string(date-time)||
|msg||string||


**响应示例**:
```javascript
{
	"code": 0,
	"data": [
		{
			"categoryId": 0,
			"categoryName": "",
			"description": "",
			"flavors": [
				{
					"dishId": 0,
					"id": 0,
					"name": "",
					"value": ""
				}
			],
			"id": 0,
			"image": "",
			"name": "",
			"price": 0,
			"status": 0,
			"updateTime": ""
		}
	],
	"msg": ""
}
```


# 用户端-订单接口


## 用户取消订单


**接口地址**:`/user/order/cancel/{id}`


**请求方式**:`PUT`


**请求数据类型**:`application/json`


**响应数据类型**:`*/*`


**接口描述**:


**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|id|id|path|true|integer(int64)||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|Result|
|201|Created||
|401|Unauthorized||
|403|Forbidden||
|404|Not Found||


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code||integer(int32)|integer(int32)|
|data||object||
|msg||string||


**响应示例**:
```javascript
{
	"code": 0,
	"data": {},
	"msg": ""
}
```


## 当前用户的历史订单分页查询


**接口地址**:`/user/order/historyOrders`


**请求方式**:`GET`


**请求数据类型**:`application/x-www-form-urlencoded`


**响应数据类型**:`*/*`


**接口描述**:


**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|page||query|false|integer(int32)||
|pageSize||query|false|integer(int32)||
|status||query|false|integer(int32)||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|Result«PageResult»|
|401|Unauthorized||
|403|Forbidden||
|404|Not Found||


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code||integer(int32)|integer(int32)|
|data||PageResult|PageResult|
|&emsp;&emsp;records||array|object|
|&emsp;&emsp;total||integer(int64)||
|msg||string||


**响应示例**:
```javascript
{
	"code": 0,
	"data": {
		"records": [],
		"total": 0
	},
	"msg": ""
}
```


## 查询历史订单详情


**接口地址**:`/user/order/orderDetail/{id}`


**请求方式**:`GET`


**请求数据类型**:`application/x-www-form-urlencoded`


**响应数据类型**:`*/*`


**接口描述**:


**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|id|id|path|true|integer(int64)||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|Result«HistoryOrderVO»|
|401|Unauthorized||
|403|Forbidden||
|404|Not Found||


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code||integer(int32)|integer(int32)|
|data||HistoryOrderVO|HistoryOrderVO|
|&emsp;&emsp;address||string||
|&emsp;&emsp;addressBookId||integer(int64)||
|&emsp;&emsp;amount||number||
|&emsp;&emsp;cancelReason||string||
|&emsp;&emsp;cancelTime||string(date-time)||
|&emsp;&emsp;checkoutTime||string(date-time)||
|&emsp;&emsp;consignee||string||
|&emsp;&emsp;deliveryStatus||integer(int32)||
|&emsp;&emsp;deliveryTime||string(date-time)||
|&emsp;&emsp;estimatedDeliveryTime||string(date-time)||
|&emsp;&emsp;id||integer(int64)||
|&emsp;&emsp;number||string||
|&emsp;&emsp;orderDetailList||array|OrderDetail|
|&emsp;&emsp;&emsp;&emsp;amount||number||
|&emsp;&emsp;&emsp;&emsp;dishFlavor||string||
|&emsp;&emsp;&emsp;&emsp;dishId||integer||
|&emsp;&emsp;&emsp;&emsp;id||integer||
|&emsp;&emsp;&emsp;&emsp;image||string||
|&emsp;&emsp;&emsp;&emsp;name||string||
|&emsp;&emsp;&emsp;&emsp;number||integer||
|&emsp;&emsp;&emsp;&emsp;orderId||integer||
|&emsp;&emsp;&emsp;&emsp;setmealId||integer||
|&emsp;&emsp;orderTime||string(date-time)||
|&emsp;&emsp;packAmount||integer(int32)||
|&emsp;&emsp;payMethod||integer(int32)||
|&emsp;&emsp;payStatus||integer(int32)||
|&emsp;&emsp;phone||string||
|&emsp;&emsp;rejectionReason||string||
|&emsp;&emsp;remark||string||
|&emsp;&emsp;status||integer(int32)||
|&emsp;&emsp;tablewareNumber||integer(int32)||
|&emsp;&emsp;tablewareStatus||integer(int32)||
|&emsp;&emsp;userId||integer(int64)||
|&emsp;&emsp;userName||string||
|msg||string||


**响应示例**:
```javascript
{
	"code": 0,
	"data": {
		"address": "",
		"addressBookId": 0,
		"amount": 0,
		"cancelReason": "",
		"cancelTime": "",
		"checkoutTime": "",
		"consignee": "",
		"deliveryStatus": 0,
		"deliveryTime": "",
		"estimatedDeliveryTime": "",
		"id": 0,
		"number": "",
		"orderDetailList": [
			{
				"amount": 0,
				"dishFlavor": "",
				"dishId": 0,
				"id": 0,
				"image": "",
				"name": "",
				"number": 0,
				"orderId": 0,
				"setmealId": 0
			}
		],
		"orderTime": "",
		"packAmount": 0,
		"payMethod": 0,
		"payStatus": 0,
		"phone": "",
		"rejectionReason": "",
		"remark": "",
		"status": 0,
		"tablewareNumber": 0,
		"tablewareStatus": 0,
		"userId": 0,
		"userName": ""
	},
	"msg": ""
}
```


## 订单支付


**接口地址**:`/user/order/payment`


**请求方式**:`PUT`


**请求数据类型**:`application/json`


**响应数据类型**:`*/*`


**接口描述**:


**请求示例**:


```javascript
{
  "orderNumber": "",
  "payMethod": 0
}
```


**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|orderPaymentDTO|orderPaymentDTO|body|true|OrderPaymentDTO|OrderPaymentDTO|
|&emsp;&emsp;orderNumber|||false|string||
|&emsp;&emsp;payMethod|||false|integer(int32)||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|Result«OrderPaymentVO»|
|201|Created||
|401|Unauthorized||
|403|Forbidden||
|404|Not Found||


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code||integer(int32)|integer(int32)|
|data||OrderPaymentVO|OrderPaymentVO|
|&emsp;&emsp;nonceStr||string||
|&emsp;&emsp;packageStr||string||
|&emsp;&emsp;paySign||string||
|&emsp;&emsp;signType||string||
|&emsp;&emsp;timeStamp||string||
|msg||string||


**响应示例**:
```javascript
{
	"code": 0,
	"data": {
		"nonceStr": "",
		"packageStr": "",
		"paySign": "",
		"signType": "",
		"timeStamp": ""
	},
	"msg": ""
}
```


## 再来一单


**接口地址**:`/user/order/repetition/{id}`


**请求方式**:`POST`


**请求数据类型**:`application/json`


**响应数据类型**:`*/*`


**接口描述**:


**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|id|id|path|true|integer(int64)||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|Result|
|201|Created||
|401|Unauthorized||
|403|Forbidden||
|404|Not Found||


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code||integer(int32)|integer(int32)|
|data||object||
|msg||string||


**响应示例**:
```javascript
{
	"code": 0,
	"data": {},
	"msg": ""
}
```


## 用户下单


**接口地址**:`/user/order/submit`


**请求方式**:`POST`


**请求数据类型**:`application/json`


**响应数据类型**:`*/*`


**接口描述**:


**请求示例**:


```javascript
{
  "addressBookId": 0,
  "amount": 0,
  "deliveryStatus": 0,
  "estimatedDeliveryTime": "yyyy-MM-dd HH:mm:ss",
  "packAmount": 0,
  "payMethod": 0,
  "remark": "",
  "tablewareNumber": 0,
  "tablewareStatus": 0
}
```


**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|orderSubmitDTO|orderSubmitDTO|body|true|OrderSubmitDTO|OrderSubmitDTO|
|&emsp;&emsp;addressBookId|||false|integer(int64)||
|&emsp;&emsp;amount|||false|number||
|&emsp;&emsp;deliveryStatus|||false|integer(int32)||
|&emsp;&emsp;estimatedDeliveryTime|||false|string||
|&emsp;&emsp;packAmount|||false|integer(int32)||
|&emsp;&emsp;payMethod|||false|integer(int32)||
|&emsp;&emsp;remark|||false|string||
|&emsp;&emsp;tablewareNumber|||false|integer(int32)||
|&emsp;&emsp;tablewareStatus|||false|integer(int32)||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|Result«OrderSubmitVO»|
|201|Created||
|401|Unauthorized||
|403|Forbidden||
|404|Not Found||


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code||integer(int32)|integer(int32)|
|data||OrderSubmitVO|OrderSubmitVO|
|&emsp;&emsp;id||integer(int64)||
|&emsp;&emsp;orderAmount||number||
|&emsp;&emsp;orderNumber||string||
|&emsp;&emsp;orderTime||string(date-time)||
|msg||string||


**响应示例**:
```javascript
{
	"code": 0,
	"data": {
		"id": 0,
		"orderAmount": 0,
		"orderNumber": "",
		"orderTime": ""
	},
	"msg": ""
}
```


# 用户端-购物车接口


## 添加当前用户的购物车


**接口地址**:`/user/shoppingCart/add`


**请求方式**:`POST`


**请求数据类型**:`application/json`


**响应数据类型**:`*/*`


**接口描述**:


**请求示例**:


```javascript
{
  "dishFlavor": "",
  "dishId": 0,
  "setmealId": 0
}
```


**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|shoppingCartProductDTO|shoppingCartProductDTO|body|true|ShoppingCartProductDTO|ShoppingCartProductDTO|
|&emsp;&emsp;dishFlavor|||false|string||
|&emsp;&emsp;dishId|||false|integer(int64)||
|&emsp;&emsp;setmealId|||false|integer(int64)||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|Result|
|201|Created||
|401|Unauthorized||
|403|Forbidden||
|404|Not Found||


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code||integer(int32)|integer(int32)|
|data||object||
|msg||string||


**响应示例**:
```javascript
{
	"code": 0,
	"data": {},
	"msg": ""
}
```


## 清空当前用户的购物车


**接口地址**:`/user/shoppingCart/clean`


**请求方式**:`DELETE`


**请求数据类型**:`application/x-www-form-urlencoded`


**响应数据类型**:`*/*`


**接口描述**:


**请求参数**:


暂无


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|Result|
|204|No Content||
|401|Unauthorized||
|403|Forbidden||


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code||integer(int32)|integer(int32)|
|data||object||
|msg||string||


**响应示例**:
```javascript
{
	"code": 0,
	"data": {},
	"msg": ""
}
```


## 展示当前用户的购物车


**接口地址**:`/user/shoppingCart/list`


**请求方式**:`GET`


**请求数据类型**:`application/x-www-form-urlencoded`


**响应数据类型**:`*/*`


**接口描述**:


**请求参数**:


暂无


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|Result«List«ShoppingCartProduct»»|
|401|Unauthorized||
|403|Forbidden||
|404|Not Found||


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code||integer(int32)|integer(int32)|
|data||array|ShoppingCartProduct|
|&emsp;&emsp;amount||number||
|&emsp;&emsp;createTime||string(date-time)||
|&emsp;&emsp;dishFlavor||string||
|&emsp;&emsp;dishId||integer(int64)||
|&emsp;&emsp;id||integer(int64)||
|&emsp;&emsp;image||string||
|&emsp;&emsp;name||string||
|&emsp;&emsp;number||integer(int32)||
|&emsp;&emsp;setmealId||integer(int64)||
|&emsp;&emsp;userId||integer(int64)||
|msg||string||


**响应示例**:
```javascript
{
	"code": 0,
	"data": [
		{
			"amount": 0,
			"createTime": "",
			"dishFlavor": "",
			"dishId": 0,
			"id": 0,
			"image": "",
			"name": "",
			"number": 0,
			"setmealId": 0,
			"userId": 0
		}
	],
	"msg": ""
}
```


## 删除当前用户购物车中的一个商品


**接口地址**:`/user/shoppingCart/sub`


**请求方式**:`POST`


**请求数据类型**:`application/json`


**响应数据类型**:`*/*`


**接口描述**:


**请求示例**:


```javascript
{
  "dishFlavor": "",
  "dishId": 0,
  "setmealId": 0
}
```


**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|shoppingCartProductDTO|shoppingCartProductDTO|body|true|ShoppingCartProductDTO|ShoppingCartProductDTO|
|&emsp;&emsp;dishFlavor|||false|string||
|&emsp;&emsp;dishId|||false|integer(int64)||
|&emsp;&emsp;setmealId|||false|integer(int64)||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|Result|
|201|Created||
|401|Unauthorized||
|403|Forbidden||
|404|Not Found||


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code||integer(int32)|integer(int32)|
|data||object||
|msg||string||


**响应示例**:
```javascript
{
	"code": 0,
	"data": {},
	"msg": ""
}
```